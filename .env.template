# Copy this file to .env and adapt values for your local machine.
# Example:
#   cp .env.template .env
#   set -a; source .env; set +a

# ---- Theme Extractor runtime defaults ----
THEME_EXTRACTOR_BACKEND=elasticsearch
THEME_EXTRACTOR_BACKEND_URL=http://localhost:9200
THEME_EXTRACTOR_INDEX=theme_extractor
THEME_EXTRACTOR_INPUT_DIR=data/raw
THEME_EXTRACTOR_OUTPUT_DIR=data/out

# ---- Optional ingestion stopwords defaults ----
THEME_EXTRACTOR_DEFAULT_STOPWORDS_ENABLED=true
THEME_EXTRACTOR_AUTO_STOPWORDS_ENABLED=false
THEME_EXTRACTOR_AUTO_STOPWORDS_MIN_DOC_RATIO=0.7
THEME_EXTRACTOR_AUTO_STOPWORDS_MIN_CORPUS_RATIO=0.01
THEME_EXTRACTOR_AUTO_STOPWORDS_MAX_TERMS=200

# ---- Optional PDF OCR fallback settings ----
THEME_EXTRACTOR_PDF_OCR_FALLBACK_ENABLED=false
THEME_EXTRACTOR_PDF_OCR_LANGUAGES=fra+eng
THEME_EXTRACTOR_PDF_OCR_DPI=200
THEME_EXTRACTOR_PDF_OCR_MIN_CHARS=32
THEME_EXTRACTOR_PDF_OCR_TESSDATA=

# ---- Optional SQL backend settings (future ingestion/metadata workflows) ----
# Use SQLITE for local fast tests, POSTGRESQL if you enable postgres profile.
THEME_EXTRACTOR_SQL_FLAVOR=sqlite
THEME_EXTRACTOR_SQLITE_PATH=./theme_extractor.db
THEME_EXTRACTOR_POSTGRES_DSN=postgresql://<PG_USER>:<PG_PASSWORD>@localhost:5432/<PG_DB>

# ---- Docker compose postgres placeholders ----
THEME_EXTRACTOR_PG_USER=<PG_USER>
THEME_EXTRACTOR_PG_PASSWORD=<PG_PASSWORD>
THEME_EXTRACTOR_PG_DB=<PG_DB>

# ---- Optional proxy ----
THEME_EXTRACTOR_PROXY_URL=
HTTP_PROXY=
HTTPS_PROXY=
ALL_PROXY=

# ---- Optional LLM settings ----
# Used only for --method llm with --offline-policy preload_or_first_run.
OPENAI_API_KEY=<OPENAI_API_KEY>
THEME_EXTRACTOR_LLM_MODEL=gpt-4o-mini

# ---- Optional local model resolution ----
THEME_EXTRACTOR_LOCAL_MODELS_DIR=data/models

# ---- Optional BERTopic embedding cache ----
THEME_EXTRACTOR_BERTOPIC_EMBEDDING_CACHE_ENABLED=true
THEME_EXTRACTOR_BERTOPIC_EMBEDDING_CACHE_DIR=data/cache/embeddings
THEME_EXTRACTOR_BERTOPIC_EMBEDDING_CACHE_VERSION=v1
